"use strict";(self.webpackChunkadminDesign=self.webpackChunkadminDesign||[]).push([[226],{8226:(k,h,a)=>{a.r(h),a.d(h,{AssemblyAdminDashboardModule:()=>S});var i=a(6895),n=a(3060),t=a(4650),d=a(262),l=a(8505),A=a(2340),u=a(7579),g=a(529),Z=a(4889);let v=(()=>{class r{constructor(e,o){this.http=e,this.errorService=o,this.BASE_API_URL=A.N.BASE_API_URL,this.reportData=[],this.reportDataSubject=new u.x,this.volunteerReportsData=[],this.volunteerReportsDataSubject=new u.x,this.workerReportsData=[],this.workerReportsDataSubject=new u.x}getReport(e){return this.http.get(this.BASE_API_URL+"/assembly/admin/dashboard/"+e).pipe((0,d.K)(this.errorService.serverError),(0,l.b)(o=>{this.reportData=o.data,this.reportDataSubject.next([...this.reportData])}))}getReportListener(){return this.reportDataSubject.asObservable()}getVolunteerDetailsReport(e){return this.http.get(this.BASE_API_URL+"/pollingStations/"+e+"/volunteers").pipe((0,d.K)(this.errorService.serverError),(0,l.b)(o=>{this.volunteerReportsData=o.data,this.volunteerReportsDataSubject.next([...this.volunteerReportsData])}))}getVolunteerDetailsReportListener(){return this.volunteerReportsDataSubject.asObservable()}getWorkerReport(e){return this.http.get(this.BASE_API_URL+"/volunteer/"+e+"/workers").pipe((0,d.K)(this.errorService.serverError),(0,l.b)(o=>{this.workerReportsData=o.data,this.volunteerReportsDataSubject.next([...this.volunteerReportsData])}))}getWorkerReportListener(){return this.workerReportsDataSubject.asObservable()}}return r.\u0275fac=function(e){return new(e||r)(t.LFG(g.eN),t.LFG(Z.T))},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var y=a(9366);const m=function(){return[]};function D(r,s){if(1&r){const e=t.EpF();t.TgZ(0,"tbody")(1,"tr"),t._UZ(2,"td",8),t.TgZ(3,"td",8),t._uU(4),t.qZA(),t.TgZ(5,"td",8)(6,"a",9),t.NdJ("click",function(){const p=t.CHM(e).$implicit,c=t.oxw(2);return t.KtG(c.getVolunteersByPollingId(p))}),t._uU(7),t.qZA()()()()}if(2&r){const e=s.$implicit;t.xp6(4),t.Oqu(e.pollingNumber),t.xp6(2),t.Q6J("routerLink",t.DdM(3,m)),t.xp6(1),t.Oqu(e.totalVolunteer)}}function _(r,s){if(1&r&&(t.TgZ(0,"div",2)(1,"div",3),t._uU(2," Polling Report "),t.qZA(),t.TgZ(3,"div",4)(4,"table",5)(5,"thead")(6,"tr")(7,"th",6),t._uU(8,"#"),t.qZA(),t.TgZ(9,"th",6),t._uU(10,"Polling number"),t.qZA(),t.TgZ(11,"th",6),t._uU(12,"Total volunteer"),t.qZA()()(),t.YNc(13,D,8,4,"tbody",7),t.qZA()()()),2&r){const e=t.oxw();t.xp6(13),t.Q6J("ngForOf",e.reportData)}}function T(r,s){if(1&r){const e=t.EpF();t.TgZ(0,"tbody")(1,"tr"),t._UZ(2,"td",8),t.TgZ(3,"td",8),t._uU(4),t.qZA(),t.TgZ(5,"td",8),t._uU(6),t.qZA(),t.TgZ(7,"td",8),t._uU(8),t.qZA(),t.TgZ(9,"td",8),t._uU(10),t.qZA(),t.TgZ(11,"td",8),t._uU(12),t.qZA(),t.TgZ(13,"td",8),t._uU(14),t.qZA(),t.TgZ(15,"td",8)(16,"a",9),t.NdJ("click",function(){const p=t.CHM(e).$implicit,c=t.oxw(2);return t.KtG(c.getWorkersByVolunteerId(p))}),t._uU(17),t.qZA()()()()}if(2&r){const e=s.$implicit;t.xp6(4),t.Oqu(e.memberCode),t.xp6(2),t.Oqu(e.personName),t.xp6(2),t.Oqu(e.areaDescription),t.xp6(2),t.Oqu(e.age),t.xp6(2),t.Oqu(e.gender),t.xp6(2),t.Oqu(e.pollingNumber),t.xp6(2),t.Q6J("routerLink",t.DdM(8,m)),t.xp6(1),t.Oqu(e.totalWorkers)}}function R(r,s){if(1&r&&(t.TgZ(0,"div",2)(1,"div",3),t._uU(2," Volunteer Details "),t.qZA(),t.TgZ(3,"div",4)(4,"table",5)(5,"thead")(6,"tr")(7,"th",6),t._uU(8,"#"),t.qZA(),t.TgZ(9,"th",6),t._uU(10,"Member code"),t.qZA(),t.TgZ(11,"th",6),t._uU(12,"Name"),t.qZA(),t.TgZ(13,"th",6),t._uU(14,"Area"),t.qZA(),t.TgZ(15,"th",6),t._uU(16,"Area"),t.qZA(),t.TgZ(17,"th",6),t._uU(18,"Gender"),t.qZA(),t.TgZ(19,"th",6),t._uU(20,"Polling number"),t.qZA(),t.TgZ(21,"th",6),t._uU(22,"Total workers"),t.qZA()()(),t.YNc(23,T,18,9,"tbody",7),t.qZA()()()),2&r){const e=t.oxw();t.xp6(23),t.Q6J("ngForOf",e.volunteerReportsData)}}function x(r,s){if(1&r&&(t.TgZ(0,"tbody")(1,"tr"),t._UZ(2,"td",8),t.TgZ(3,"td",8),t._uU(4),t.qZA(),t.TgZ(5,"td",8),t._uU(6),t.qZA(),t.TgZ(7,"td",8),t._uU(8),t.qZA(),t.TgZ(9,"td",8),t._uU(10),t.qZA(),t.TgZ(11,"td",8),t._uU(12),t.qZA(),t.TgZ(13,"td",8),t._uU(14),t.qZA(),t.TgZ(15,"td",8),t._uU(16),t.qZA()()()),2&r){const e=s.$implicit;t.xp6(4),t.Oqu(e.memberCode),t.xp6(2),t.Oqu(e.personName),t.xp6(2),t.Oqu(e.areaDescription),t.xp6(2),t.Oqu(e.age),t.xp6(2),t.Oqu(e.gender),t.xp6(2),t.Oqu(e.voterId),t.xp6(2),t.Oqu(e.pollingNumber)}}function U(r,s){if(1&r&&(t.TgZ(0,"div",2)(1,"div",3),t._uU(2," General Workers "),t.qZA(),t.TgZ(3,"div",4)(4,"table",5)(5,"thead")(6,"tr")(7,"th",6),t._uU(8,"#"),t.qZA(),t.TgZ(9,"th",6),t._uU(10,"Member code"),t.qZA(),t.TgZ(11,"th",6),t._uU(12,"Name"),t.qZA(),t.TgZ(13,"th",6),t._uU(14,"Area"),t.qZA(),t.TgZ(15,"th",6),t._uU(16,"Area"),t.qZA(),t.TgZ(17,"th",6),t._uU(18,"Gender"),t.qZA(),t.TgZ(19,"th",6),t._uU(20,"Voter id"),t.qZA(),t.TgZ(21,"th",6),t._uU(22,"Polling number"),t.qZA()()(),t.YNc(23,x,17,7,"tbody",7),t.qZA()()()),2&r){const e=t.oxw();t.xp6(23),t.Q6J("ngForOf",e.workerReportsData)}}const f=[{path:"",component:(()=>{class r{constructor(e,o){this.assemblyAdminDashboardService=e,this.authService=o,this.reportData=[],this.volunteerReportsData=[],this.workerReportsData=[],this.displayFirstMasterReport=!0,this.displaySecondVolunteerReport=!1,this.displayThirdWorkerReport=!1}ngOnInit(){this.loggedInUser=this.authService.userBehaviorSubject.value,this.assemblyAdminDashboardService.getReport(this.loggedInUser?.assemblyConstituencyId).subscribe(e=>{this.reportData=e.data}),this.assemblyAdminDashboardService.getReportListener().subscribe(e=>{this.reportData=e})}getVolunteersByPollingId(e){this.assemblyAdminDashboardService.getVolunteerDetailsReport(e.pollingStationId).subscribe(o=>{this.volunteerReportsData=o.data,this.displayFirstMasterReport=!1,this.displaySecondVolunteerReport=!0,this.displayThirdWorkerReport=!1}),this.assemblyAdminDashboardService.getVolunteerDetailsReportListener().subscribe(o=>{this.volunteerReportsData=o})}getWorkersByVolunteerId(e){this.assemblyAdminDashboardService.getWorkerReport(e.id).subscribe(o=>{this.workerReportsData=o.data,this.displayFirstMasterReport=!1,this.displaySecondVolunteerReport=!1,this.displayThirdWorkerReport=!0}),this.assemblyAdminDashboardService.getWorkerReportListener().subscribe(o=>{this.workerReportsData=o})}goToMainReport(){this.displayFirstMasterReport=!0,this.displaySecondVolunteerReport=!1,this.displayThirdWorkerReport=!1}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(v),t.Y36(y.e))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-assembly-admin-dashboard"]],decls:5,vars:3,consts:[[1,"button","btn-primary",3,"click"],["class","card mt-5",4,"ngIf"],[1,"card","mt-5"],[1,"card-header","text-dark","text-bold"],[1,"card-body"],[1,"table"],["scope","col"],[4,"ngFor","ngForOf"],["scope","row"],[3,"routerLink","click"]],template:function(e,o){1&e&&(t.TgZ(0,"button",0),t.NdJ("click",function(){return o.goToMainReport()}),t._uU(1,"Back"),t.qZA(),t.YNc(2,_,14,1,"div",1),t.YNc(3,R,24,1,"div",1),t.YNc(4,U,24,1,"div",1)),2&e&&(t.xp6(2),t.Q6J("ngIf",o.displayFirstMasterReport),t.xp6(1),t.Q6J("ngIf",o.displaySecondVolunteerReport),t.xp6(1),t.Q6J("ngIf",o.displayThirdWorkerReport))},dependencies:[i.sg,i.O5,n.yS]}),r})()}];let q=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[n.Bz.forChild(f),n.Bz]}),r})(),S=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[i.ez,q]}),r})()}}]);