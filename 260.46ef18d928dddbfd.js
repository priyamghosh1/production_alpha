"use strict";(self.webpackChunkadminDesign=self.webpackChunkadminDesign||[]).push([[260],{8818:(pe,I,r)=>{r.r(I),r.d(I,{DistrictAdminPanelModule:()=>de});var g=r(6895),A=r(3060),n=r(4006),P=r(5226),p=r.n(P),N=r(3561),c=r(5239),S=r(2340),e=r(4650),Z=r(3761),v=r(5683),D=r(9366),U=r(4543),f=r(9549),C=r(4144),w=r(4385),b=r(3238),u=r(6257),T=r(8255);function _(o,s){1&o&&e._uU(0,"Fill out your name")}function M(o,s){if(1&o&&(e.TgZ(0,"mat-option",25),e._uU(1),e.qZA()),2&o){const i=s.$implicit;e.Q6J("value",i),e.xp6(1),e.Oqu(i)}}function O(o,s){if(1&o&&(e.TgZ(0,"mat-option",25),e._uU(1),e.qZA()),2&o){const i=s.$implicit;e.Q6J("value",i.districtId),e.xp6(1),e.Oqu(i.name)}}function B(o,s){if(1&o){const i=e.EpF();e.TgZ(0,"button",26),e.NdJ("click",function(){e.CHM(i);const l=e.oxw();return e.KtG(l.onSubmit())}),e._uU(1,"Submit"),e.qZA()}}function F(o,s){if(1&o){const i=e.EpF();e.TgZ(0,"button",26),e.NdJ("click",function(){e.CHM(i);const l=e.oxw();return e.KtG(l.updateMember())}),e._uU(1,"Update"),e.qZA()}}function J(o,s){1&o&&(e.TgZ(0,"th",23),e._uU(1,"Name"),e.qZA())}function R(o,s){1&o&&(e.TgZ(0,"th",23),e._uU(1,"Member code"),e.qZA())}function x(o,s){1&o&&(e.TgZ(0,"th",23),e._uU(1,"Guardian Name"),e.qZA())}function q(o,s){1&o&&(e.TgZ(0,"th",23),e._uU(1,"Age"),e.qZA())}function E(o,s){1&o&&(e.TgZ(0,"th",23),e._uU(1,"Gender"),e.qZA())}function Y(o,s){1&o&&(e.TgZ(0,"th",23),e._uU(1,"Police Station"),e.qZA())}function Q(o,s){1&o&&(e.TgZ(0,"th",23),e._uU(1,"Occupation"),e.qZA())}function L(o,s){1&o&&(e.TgZ(0,"th",23),e._uU(1,"Religion"),e.qZA())}function H(o,s){1&o&&(e.TgZ(0,"th",23),e._uU(1,"Email"),e.qZA())}function G(o,s){1&o&&(e.TgZ(0,"th",23),e._uU(1,"mobile1"),e.qZA())}function V(o,s){1&o&&(e.TgZ(0,"th",23),e._uU(1,"mobile2"),e.qZA())}function y(o,s){1&o&&(e.TgZ(0,"th",23),e._uU(1,"voterId"),e.qZA())}function k(o,s){1&o&&(e.TgZ(0,"th",23),e._uU(1,"Adhaar Id"),e.qZA())}function K(o,s){1&o&&(e.TgZ(0,"th",23),e._uU(1,"Cast"),e.qZA())}function j(o,s){1&o&&(e.TgZ(0,"th",23),e._uU(1,"Post Office"),e.qZA())}function z(o,s){1&o&&(e.TgZ(0,"th",23),e._uU(1,"House No."),e.qZA())}function X(o,s){1&o&&(e.TgZ(0,"th",23),e._uU(1,"Road Name"),e.qZA())}function W(o,s){1&o&&(e.TgZ(0,"th",23),e._uU(1,"Pin code"),e.qZA())}function $(o,s){1&o&&(e.TgZ(0,"th",23),e._uU(1,"pollingNumber"),e.qZA())}function ee(o,s){1&o&&(e.TgZ(0,"th",23),e._uU(1,"Picture"),e.qZA())}const te=[{path:"",component:(()=>{class o{constructor(i,t,l,h){this.areaService=i,this.pollingStationService=t,this.authService=l,this.userRegistrationService=h,this.showBill=!1,this.isLinear=!1,this.genderList=["MALE","FEMALE","OTHERS"],this.isUpdateAble=!1,this.imageSrc="",this.imageSrcVoter="",this.imageSrcTable="",this.defaultPicture="",this.userForm=new n.nJ({id:new n.p4(null),personId:new n.p4(null,[n.kI.required]),parentId:new n.p4(null,[n.kI.required]),areaId:new n.p4(null),remark:new n.p4(null,[n.kI.required]),areaDescription:new n.p4(null,[n.kI.required]),email:new n.p4(null,[n.kI.required]),password:new n.p4(null,[n.kI.required])}),this.confirmation=["YES","NO"],this.cast=["GENERAL","ST","SC","OBC"],this.religion=["HINDUISM","CHRISTIANITY","JUDAISM","BUDDHISM","SIKHISM","SHINTO","CATHOLICISM","BAHAI FAITH","ZOROASTRIANISM","JAINISM","CONFUCIANISM","LUTHERANISM","PROTESTANTISM","TAOISM","RASTAFARI","EASTERN ORTHODOX CHURCH","SUNNI ISLAM","CHINESE FOLK RELIGION","BABISM","MODERN PAGANISM","SHIA ISLAM","WICCA","TRADITIONAL AFRICAN RELIGIONS"],this.showPhoto=!0,this.showName=!0,this.showMemberCode=!1,this.showGuardianName=!0,this.showAge=!0,this.showGender=!0,this.showPoliceStation=!1,this.showOcupation=!0,this.showReligion=!0,this.showEmail=!1,this.showMobileOne=!0,this.showMobileTwo=!1,this.showVoterId=!0,this.showAadharId=!0,this.showCast=!1,this.showPostOffice=!1,this.showHouseNo=!0,this.showRoadNo=!0,this.showPinCode=!1,this.showPollingNumber=!1,this.personForm=new n.nJ({personTypeId:new n.p4(null,[n.kI.required]),personName:new n.p4(null,[n.kI.required]),email:new n.p4(""),guardianName:new n.p4(""),religion:new n.p4(""),occupation:new n.p4(""),policeStation:new n.p4(""),cast:new n.p4(""),partNo:new n.p4(""),postOffice:new n.p4(""),houseNo:new n.p4(""),district:new n.p4(null,[n.kI.required]),pinCode:new n.p4(""),preferableCandidate:new n.p4(null,[n.kI.required]),suggestion:new n.p4(null,[n.kI.required]),prevVotingHistory:new n.p4(null,[n.kI.required]),satisfiedByPresentGov:new n.p4(null,[n.kI.required]),age:new n.p4(""),gender:new n.p4(null,[n.kI.required]),mobile1:new n.p4(""),mobile2:new n.p4(""),aadharId:new n.p4(""),roadName:new n.p4(null),voterId:new n.p4(""),pollingStationId:new n.p4("")}),this.pollingMembers=[],this.BASE_PUBLIC_URL=S.N.BASE_PUBLIC_URL,this.printDivStyle={printBillDiv:{marginRight:"3px",marginLeft:"3px",marginTop:"5px"},table:{"border-collapse":"collapse",width:"100%"},label:{width:"100%"},div:{border:"1px  solid black"}},this.areaService.getStateListener().subscribe(m=>{this.states=m}),this.states=this.areaService.getstate(),this.defaultPicture=this.BASE_PUBLIC_URL+"/profile_pic/no_dp.png",this.imageSrcVoter=this.BASE_PUBLIC_URL+"/voter_pic/"}ngOnInit(){this.showBill=!1,this.loggedInUser=this.authService.userBehaviorSubject.value,this.pollingStationService.getPollingStationByAssemblyId(this.loggedInUser?.assemblyConstituencyId).subscribe(i=>{this.pollingStations=i.data})}exportexcel(){let i=document.getElementById("excel-table");const t=c.utils.table_to_sheet(i),l=c.utils.book_new();c.utils.book_append_sheet(l,t,"Sheet1"),c.writeFile(l,"test.xlsx")}clearForms(){this.personForm.reset(),this.userForm.reset(),this.isUpdateAble=!1}onSubmit(){p().fire({title:"Confirmation",text:"Do you sure to create user?",icon:"info",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, create It!"}).then(i=>{if(i.isConfirmed){const t=this.personForm.value,m=(new N.V).appendStr("1234").end(),a=new FormData;a.append("personTypeId",6),a.append("personName",t.personName),a.append("age",t.age),a.append("gender",t.gender),a.append("religion",t.religion),a.append("occupation",t.occupation),a.append("policeStation",t.policeStation),a.append("cast",t.cast),a.append("partNo",t.partNo),a.append("postOffice",t.postOffice),a.append("houseNo",t.houseNo),a.append("guardianName",t.guardianName),a.append("district",t.district),a.append("pinCode",t.pinCode),a.append("preferableCandidate",t.preferableCandidate),a.append("satisfiedByPresentGov",t.satisfiedByPresentGov),a.append("suggestion",t.suggestion),a.append("previousVotingHistory",t.prevVotingHistory),a.append("email",t.email),a.append("aadharId",t.aadharId),a.append("password",m),a.append("mobile1",t.mobile1),a.append("mobile2",t.mobile2),a.append("voterId",t.voterId),a.append("pollingStationId",t.pollingStationId),a.append("parentId",this.loggedInUser?.uniqueId),a.append("remark",this.userForm.value.remark),a.append("roadName",t.roadName),a.append("district",t.district),this.userRegistrationService.saveNewVolunteer(a).subscribe(d=>{d.status?(this.voters=d.data,this.personForm.reset(),this.userForm.reset(),this.file=File,this.imageSrc=null,p().fire({position:"top-end",icon:"success",title:"User created",showConfirmButton:!1,timer:1e3})):p().fire({position:"top-end",icon:"error",title:"Validation error",showConfirmButton:!1,timer:3e3})},d=>{console.log(d),console.log("data saving error",d)})}})}updateMember(){p().fire({title:"Confirmation",text:"Do you sure to create user?",icon:"info",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, create It!"}).then(i=>{if(i.isConfirmed){const t=this.personForm.value,m=(new N.V).appendStr("1234").end();this.userRegistrationService.updateExistingUser({personId:t.id,personTypeId:6,personName:t.personName,age:t.age,gender:t.gender,religion:t.religion,occupation:t.occupation,policeStation:t.policeStation,cast:t.cast,partNo:t.partNo,postOffice:t.postOffice,houseNo:t.houseNo,guardianName:t.guardianName,aadharId:t.aadharId,state:t.state,district:t.district,pinCode:t.pinCode,preferableCandidate:t.preferableCandidate,satisfiedByPresentGov:t.satisfiedByPresentGov,suggestion:t.suggestion,previousVotingHistory:t.prevVotingHistory,email:t.email,password:m,mobile1:t.mobile1,mobile2:t.mobile2,voterId:t.voterId,pollingStationId:t.pollingStationId,parentId:this.loggedInUser?.uniqueId,remark:this.userForm.value.remark,roadName:t.roadName}).subscribe(d=>{})}})}editVoters(i){this.personForm.patchValue({id:i.id,personName:i.personName,age:i.age,gender:i.gender,email:i.email,religion:i.religion,occupation:i.occupation,policeStation:i.policeStation,cast:i.cast,partNo:i.partNo,postOffice:i.postOffice,houseNo:i.houseNo,guardianName:i.guardianName,aadharId:i.aadharId,state:i.state,district:i.districtId,pinCode:i.pinCode,preferableCandidate:i.preferableCandidate,satisfiedByPresentGov:i.satisfiedByPresentGov,suggestion:i.suggestion,prevVotingHistory:i.previousVotingHistory,password:i.password,mobile1:i.mobile1,mobile2:i.mobile2,voterId:i.voterId,pollingStationId:i.pollingStationId,parentId:i.parentId,remark:i.remark,roadName:i.roadName}),console.log(i),this.imageSrc=this.imageSrcVoter+""+i.id+".jpg",this.isUpdateAble=!0}onChange(i){if(i.target.files[0].size/1024e3>2)return p().fire({position:"top-end",icon:"error",title:"Photo must be less than 2 mb",showConfirmButton:!1,timer:3e3}),void(this.file=File);this.file=i.target.files[0];var t=new FileReader;t.onload=l=>{this.imageSrc=t.result}}viewBill(){this.showBill=!this.showBill}changeShowStatus(i,t){this.showName="showName"===i?t:this.showName,this.showAge="showAge"===i?t:this.showAge,this.showEmail="showEmail"===i?t:this.showEmail,this.showMemberCode="showMemberCode"===i?t:this.showMemberCode,this.showGuardianName="showGuardianName"===i?t:this.showGuardianName,this.showGender="showGender"===i?t:this.showGender,this.showPoliceStation="showPoliceStation"===i?t:this.showPoliceStation,this.showOcupation="showOcupation"===i?t:this.showOcupation,this.showReligion="showReligion"===i?t:this.showReligion,this.showMobileOne="showMobileOne"===i?t:this.showMobileOne,this.showMobileTwo="showMobileTwo"===i?t:this.showMobileTwo,this.showVoterId="showVoterId"===i?t:this.showVoterId,this.showAadharId="showAadharId"===i?t:this.showAadharId,this.showCast="showCast"===i?t:this.showCast,this.showPostOffice="showPostOffice"===i?t:this.showPostOffice,this.showHouseNo="showHouseNo"===i?t:this.showHouseNo,this.showRoadNo="showRoadNo"===i?t:this.showRoadNo,this.showPinCode="showPinCode"===i?t:this.showPinCode,this.showPollingNumber="showPollingNumber"===i?t:this.showPollingNumber,this.showPhoto="showPhoto"===i?t:this.showPhoto}}return o.\u0275fac=function(i){return new(i||o)(e.Y36(Z.T),e.Y36(v.u),e.Y36(D.e),e.Y36(U.p))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-district-admin-panel"]],decls:76,vars:29,consts:[[1,"container","pt-1",2,"background-color","rgba(255, 255, 255, 0)","color","black !important",3,"hidden"],[2,"background-color","rgb(7, 138, 182) !important","color","black !important","border-radius","10px",3,"linear"],["stepper",""],[3,"stepControl"],[3,"formGroup"],["matStepLabel",""],[1,"d-flex"],[1,"col-9"],["appearance","fill"],["matInput","","placeholder","Last name, First name","formControlName","personName","required",""],["matInput","","placeholder","Your age","formControlName","age","required",""],["matNativeControl","","required","","formControlName","gender"],[3,"value",4,"ngFor","ngForOf"],["matNativeControl","","required","","formControlName","district"],["matInput","","placeholder","Email","formControlName","email","required",""],[1,"fluid",2,"background-color","white","max-height","100px","margin","2%","text-align","right"],["test1","matMenu"],["type","file","name","filename",3,"disabled","change"],[1,"mr-2","bg-warning","btn",3,"click"],["type","submit","class","btn btn-info",3,"click",4,"ngIf"],[1,"card"],[1,"card-body","scroll",2,"max-width","100vw","overflow","scroll","border-radius","5px","background-color","rgba(27, 109, 197, 0.524)"],[1,"table"],["scope","col",1,"text-center"],["class","text-center","scope","col",4,"ngIf"],[3,"value"],["type","submit",1,"btn","btn-info",3,"click"]],template:function(i,t){1&i&&(e.TgZ(0,"div",0)(1,"h3")(2,"u"),e._uU(3,"Create Polling Volunteer"),e.qZA()(),e.TgZ(4,"div")(5,"mat-stepper",1,2)(7,"mat-step",3)(8,"form",4),e.YNc(9,_,1,0,"ng-template",5),e.TgZ(10,"div",6)(11,"div",7)(12,"div")(13,"mat-form-field",8)(14,"mat-label"),e._uU(15,"NAME"),e.qZA(),e._UZ(16,"input",9),e.qZA(),e.TgZ(17,"mat-form-field",8)(18,"mat-label"),e._uU(19,"AGE"),e.qZA(),e._UZ(20,"input",10),e.qZA(),e.TgZ(21,"mat-form-field",8)(22,"mat-label"),e._uU(23,"GENDER"),e.qZA(),e.TgZ(24,"mat-select",11),e.YNc(25,M,2,2,"mat-option",12),e.qZA()()(),e._UZ(26,"div"),e.TgZ(27,"div")(28,"mat-form-field",8)(29,"mat-label"),e._uU(30,"DISTRICT"),e.qZA(),e.TgZ(31,"mat-select",13),e.YNc(32,O,2,2,"mat-option",12),e.qZA()(),e.TgZ(33,"mat-form-field",8)(34,"mat-label"),e._uU(35,"EMAIL"),e.qZA(),e._UZ(36,"input",14),e.qZA()(),e._UZ(37,"div"),e.qZA(),e.TgZ(38,"div",15)(39,"mat-menu",null,16)(41,"input",17),e.NdJ("change",function(h){return t.onChange(h)}),e.qZA()()()(),e.TgZ(42,"div")(43,"button",18),e.NdJ("click",function(){return t.clearForms()}),e._uU(44,"Clear"),e.qZA(),e.YNc(45,B,2,0,"button",19),e.YNc(46,F,2,0,"button",19),e.qZA()()()()(),e.TgZ(47,"div",20)(48,"div",21)(49,"table",22)(50,"thead")(51,"tr")(52,"th",23),e._uU(53,"#"),e.qZA(),e.YNc(54,J,2,0,"th",24),e.TgZ(55,"th",23),e._uU(56,"Email"),e.qZA(),e.YNc(57,R,2,0,"th",24),e.YNc(58,x,2,0,"th",24),e.YNc(59,q,2,0,"th",24),e.YNc(60,E,2,0,"th",24),e.YNc(61,Y,2,0,"th",24),e.YNc(62,Q,2,0,"th",24),e.YNc(63,L,2,0,"th",24),e.YNc(64,H,2,0,"th",24),e.YNc(65,G,2,0,"th",24),e.YNc(66,V,2,0,"th",24),e.YNc(67,y,2,0,"th",24),e.YNc(68,k,2,0,"th",24),e.YNc(69,K,2,0,"th",24),e.YNc(70,j,2,0,"th",24),e.YNc(71,z,2,0,"th",24),e.YNc(72,X,2,0,"th",24),e.YNc(73,W,2,0,"th",24),e.YNc(74,$,2,0,"th",24),e.YNc(75,ee,2,0,"th",24),e.qZA()()()()()()),2&i&&(e.Q6J("hidden",t.showBill),e.xp6(5),e.Q6J("linear",t.isLinear),e.xp6(2),e.Q6J("stepControl",t.personForm),e.xp6(1),e.Q6J("formGroup",t.personForm),e.xp6(17),e.Q6J("ngForOf",t.genderList),e.xp6(7),e.Q6J("ngForOf",t.states[0].districts),e.xp6(9),e.Q6J("disabled",1==t.isUpdateAble),e.xp6(4),e.Q6J("ngIf",0==t.isUpdateAble),e.xp6(1),e.Q6J("ngIf",1==t.isUpdateAble),e.xp6(8),e.Q6J("ngIf",1==t.showName),e.xp6(3),e.Q6J("ngIf",1==t.showMemberCode),e.xp6(1),e.Q6J("ngIf",1==t.showGuardianName),e.xp6(1),e.Q6J("ngIf",1==t.showAge),e.xp6(1),e.Q6J("ngIf",1==t.showGender),e.xp6(1),e.Q6J("ngIf",1==t.showPoliceStation),e.xp6(1),e.Q6J("ngIf",1==t.showOcupation),e.xp6(1),e.Q6J("ngIf",1==t.showReligion),e.xp6(1),e.Q6J("ngIf",1==t.showEmail),e.xp6(1),e.Q6J("ngIf",1==t.showMobileOne),e.xp6(1),e.Q6J("ngIf",1==t.showMobileTwo),e.xp6(1),e.Q6J("ngIf",1==t.showVoterId),e.xp6(1),e.Q6J("ngIf",1==t.showAadharId),e.xp6(1),e.Q6J("ngIf",1==t.showCast),e.xp6(1),e.Q6J("ngIf",1==t.showPostOffice),e.xp6(1),e.Q6J("ngIf",1==t.showHouseNo),e.xp6(1),e.Q6J("ngIf",1==t.showRoadNo),e.xp6(1),e.Q6J("ngIf",1==t.showPinCode),e.xp6(1),e.Q6J("ngIf",1==t.showPollingNumber),e.xp6(1),e.Q6J("ngIf",1==t.showPhoto))},dependencies:[g.sg,g.O5,n._Y,n.Fj,n.JJ,n.JL,n.Q7,f.KE,f.hX,n.sg,n.u,C.Nt,w.gD,b.ey,u.C0,u.VY,u.Vq,T.VK],styles:[".scroll[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.scroll[_ngcontent-%COMP%]{-ms-overflow-style:none;scrollbar-width:none}.mat-stepper-horizontal[_ngcontent-%COMP%]{margin-top:8px}.mat-mdc-form-field[_ngcontent-%COMP%]{margin-top:16px}.mat-form-field[_ngcontent-%COMP%]{padding:5px}input[_ngcontent-%COMP%]{text-transform:uppercase}"]}),o})()}];let ie=(()=>{class o{}return o.\u0275fac=function(i){return new(i||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[A.Bz.forChild(te),A.Bz]}),o})();var oe=r(3546),ne=r(8796),se=r(6709),ae=r(7392),re=r(4859),le=r(6186);let de=(()=>{class o{}return o.\u0275fac=function(i){return new(i||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[g.ez,ie,n.u5,f.lN,n.UX,C.c,w.LD,oe.QW,ne.A0,se.p9,u.T5,T.Tx,w.LD,b.Ng,ae.Ps,re.ot,le.K]}),o})()}}]);