"use strict";(self.webpackChunkadminDesign=self.webpackChunkadminDesign||[]).push([[585],{9585:(K,w,s)=>{s.r(w),s.d(w,{BoothVolunteerModule:()=>z});var g=s(6895),I=s(3060),n=s(4006),Z=s(5226),d=s.n(Z),b=s(3561),p=s(5239),B=s(2340),e=s(4650),U=s(3761),O=s(5683),M=s(9366),V=s(4543),f=s(9549),A=s(4144),m=s(6257),N=s(8255),C=s(4385),S=s(3238),v=s(7392),T=s(4859),x=s(6186);function F(i,r){1&i&&e._uU(0,"Fill out your name")}function P(i,r){if(1&i&&(e.TgZ(0,"mat-option",30),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.Q6J("value",t),e.xp6(1),e.Oqu(t)}}function R(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"button",31),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.onSubmitVolunteer())}),e._uU(1,"Submit"),e.qZA()}}function E(i,r){1&i&&(e.TgZ(0,"th",22),e._uU(1,"Name"),e.qZA())}function q(i,r){1&i&&(e.TgZ(0,"th",22),e._uU(1,"Age"),e.qZA())}function D(i,r){1&i&&(e.TgZ(0,"th",22),e._uU(1,"Gender"),e.qZA())}function J(i,r){if(1&i&&(e.TgZ(0,"td",32),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.personName)}}function L(i,r){if(1&i&&(e.TgZ(0,"td",32),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.age)}}function _(i,r){if(1&i&&(e.TgZ(0,"td",32),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.gender)}}function y(i,r){if(1&i&&(e.TgZ(0,"tbody")(1,"tr")(2,"td",32),e._uU(3),e.qZA(),e.YNc(4,J,2,1,"td",33),e.TgZ(5,"td",32),e._uU(6),e.qZA(),e.YNc(7,L,2,1,"td",33),e.YNc(8,_,2,1,"td",33),e.qZA()()),2&i){const t=r.$implicit,o=r.index,a=e.oxw();e.xp6(3),e.Oqu(o+1),e.xp6(1),e.Q6J("ngIf",1==a.showName),e.xp6(2),e.Oqu(t.email),e.xp6(1),e.Q6J("ngIf",1==a.showAge),e.xp6(1),e.Q6J("ngIf",1==a.showGender)}}function H(i,r){if(1&i&&(e.TgZ(0,"div",34)(1,"div",35)(2,"div",36),e._uU(3),e.qZA(),e.TgZ(4,"span"),e._uU(5),e.qZA(),e._UZ(6,"br"),e._uU(7),e._UZ(8,"br"),e._uU(9),e._UZ(10,"br"),e._uU(11),e.qZA(),e.TgZ(12,"div",37)(13,"div"),e._uU(14),e.qZA(),e._UZ(15,"img",38),e.qZA()()),2&i){const t=r.$implicit,o=r.index,a=e.oxw();e.xp6(3),e.Oqu(o+1),e.xp6(2),e.hij("Name: ",t.personName,""),e.xp6(2),e.hij(" Guardian's Name: ",t.guardianName,""),e.xp6(2),e.AsE(" Age: ",t.age," Gender: ",t.gender,""),e.xp6(2),e.hij(" House No: ",t.houseNo," "),e.xp6(3),e.Oqu(t.voterId),e.xp6(1),e.Q6J("src",a.imageSrcVoter+""+t.personId+".jpg",e.LSH)}}const G=[{path:"",component:(()=>{class i{constructor(t,o,a,u){this.areaService=t,this.pollingStationService=o,this.authService=a,this.userRegistrationService=u,this.showBill=!1,this.isLinear=!1,this.genderList=["MALE","FEMALE","OTHERS"],this.isUpdateAble=!1,this.imageSrc="",this.imageSrcVoter="",this.imageSrcTable="",this.defaultPicture="",this.userForm=new n.nJ({id:new n.p4(null),personId:new n.p4(null,[n.kI.required]),parentId:new n.p4(null,[n.kI.required]),areaId:new n.p4(null),remark:new n.p4(null,[n.kI.required]),areaDescription:new n.p4(null,[n.kI.required]),email:new n.p4(null,[n.kI.required]),password:new n.p4(null,[n.kI.required])}),this.confirmation=["YES","NO"],this.cast=["GENERAL","ST","SC","OBC"],this.religion=["HINDUISM","CHRISTIANITY","JUDAISM","BUDDHISM","SIKHISM","SHINTO","CATHOLICISM","BAHAI FAITH","ZOROASTRIANISM","JAINISM","CONFUCIANISM","LUTHERANISM","PROTESTANTISM","TAOISM","RASTAFARI","EASTERN ORTHODOX CHURCH","SUNNI ISLAM","CHINESE FOLK RELIGION","BABISM","MODERN PAGANISM","SHIA ISLAM","WICCA","TRADITIONAL AFRICAN RELIGIONS"],this.showPhoto=!0,this.showName=!0,this.showMemberCode=!1,this.showGuardianName=!0,this.showAge=!0,this.showGender=!0,this.showPoliceStation=!1,this.showOcupation=!0,this.showReligion=!0,this.showEmail=!1,this.showMobileOne=!0,this.showMobileTwo=!1,this.showVoterId=!0,this.showAadharId=!0,this.showCast=!1,this.showPostOffice=!1,this.showHouseNo=!0,this.showRoadNo=!0,this.showPinCode=!1,this.showPollingNumber=!1,this.volunteer=[],this.personForm=new n.nJ({personTypeId:new n.p4(null,[n.kI.required]),personName:new n.p4(null,[n.kI.required]),email:new n.p4(""),age:new n.p4(""),gender:new n.p4(null,[n.kI.required])}),this.pollingMembers=[],this.BASE_PUBLIC_URL=B.N.BASE_PUBLIC_URL,this.printDivStyle={printDiv:{marginRight:"3px",marginLeft:"3px",marginTop:"5px"},table:{"border-collapse":"collapse",width:"100%"},label:{width:"100%"},div:{border:"1px  solid black"}},this.areaService.getStateListener().subscribe(c=>{this.states=c}),this.states=this.areaService.getstate(),this.defaultPicture=this.BASE_PUBLIC_URL+"/profile_pic/no_dp.png",this.imageSrcVoter=this.BASE_PUBLIC_URL+"/voter_pic/"}ngOnInit(){this.showBill=!1,this.loggedInUser=this.authService.userBehaviorSubject.value,this.pollingStationService.getPollingStationByAssemblyId(this.loggedInUser?.assemblyConstituencyId).subscribe(t=>{this.pollingStations=t.data}),this.userRegistrationService.getVolunteerByPolingAgent(this.loggedInUser.uniqueId).subscribe(t=>{this.volunteer=t.data,console.log("PolingAgentByAssembly",this.volunteer)})}exportexcel(){let t=document.getElementById("excel-table");const o=p.utils.table_to_sheet(t),a=p.utils.book_new();p.utils.book_append_sheet(a,o,"Sheet1"),p.writeFile(a,"test.xlsx")}clearForms(){this.personForm.reset(),this.userForm.reset(),this.file=File,this.isUpdateAble=!1}onSubmitVolunteer(){d().fire({title:"Confirmation",text:"Do you sure to create user?",icon:"info",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, create It!"}).then(t=>{if(t.isConfirmed){const o=this.personForm.value,c=(new b.V).appendStr("1234").end(),l=new FormData;l.append("personTypeId",9),l.append("personName",o.personName),l.append("age",o.age),l.append("gender",o.gender),l.append("email",o.email),l.append("password",c),l.append("parentId",this.loggedInUser?.uniqueId),this.userRegistrationService.saveNewVolunteer(l).subscribe(h=>{h.status?(this.personForm.reset(),this.userForm.reset(),this.file=File,this.imageSrc=null,d().fire({position:"top-end",icon:"success",title:"User created",showConfirmButton:!1,timer:1e3}),this.volunteer.unshift(h.data)):d().fire({position:"top-end",icon:"error",title:"Validation error",showConfirmButton:!1,timer:3e3})},h=>{console.log(h),console.log("data saving error",h)})}})}updateMember(){d().fire({title:"Confirmation",text:"Do you sure to create user?",icon:"info",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, create It!"}).then(t=>{if(t.isConfirmed){const o=this.personForm.value;(new b.V).appendStr("1234").end(),this.userRegistrationService.updateExistingUser({personId:o.id,personTypeId:6,personName:o.personName,age:o.age,gender:o.gender,email:o.email,parentId:this.loggedInUser?.uniqueId}).subscribe(h=>{})}})}editVoters(t){this.personForm.patchValue({id:t.id,personName:t.personName,age:t.age,gender:t.gender,email:t.email,religion:t.religion,occupation:t.occupation,policeStation:t.policeStation,cast:t.cast,partNo:t.partNo,postOffice:t.postOffice,houseNo:t.houseNo,guardianName:t.guardianName,aadharId:t.aadharId,state:t.state,district:t.districtId,pinCode:t.pinCode,preferableCandidate:t.preferableCandidate,satisfiedByPresentGov:t.satisfiedByPresentGov,suggestion:t.suggestion,prevVotingHistory:t.previousVotingHistory,password:t.password,mobile1:t.mobile1,mobile2:t.mobile2,voterId:t.voterId,pollingStationId:t.pollingStationId,parentId:t.parentId,remark:t.remark,roadName:t.roadName}),console.log(t),this.imageSrc=this.imageSrcVoter+""+t.id+".jpg",this.isUpdateAble=!0}onChange(t){if(t.target.files[0].size/1024e3>2)return d().fire({position:"top-end",icon:"error",title:"Photo must be less than 2 mb",showConfirmButton:!1,timer:3e3}),void(this.file=File);this.file=t.target.files[0];var o=new FileReader;o.readAsDataURL(this.file),o.onload=a=>{this.imageSrc=o.result}}viewBill(){this.showBill=!this.showBill}changeShowStatus(t,o){this.showName="showName"===t?o:this.showName,this.showAge="showAge"===t?o:this.showAge,this.showEmail="showEmail"===t?o:this.showEmail,this.showMemberCode="showMemberCode"===t?o:this.showMemberCode,this.showGuardianName="showGuardianName"===t?o:this.showGuardianName,this.showGender="showGender"===t?o:this.showGender,this.showPoliceStation="showPoliceStation"===t?o:this.showPoliceStation,this.showOcupation="showOcupation"===t?o:this.showOcupation,this.showReligion="showReligion"===t?o:this.showReligion,this.showMobileOne="showMobileOne"===t?o:this.showMobileOne,this.showMobileTwo="showMobileTwo"===t?o:this.showMobileTwo,this.showVoterId="showVoterId"===t?o:this.showVoterId,this.showAadharId="showAadharId"===t?o:this.showAadharId,this.showCast="showCast"===t?o:this.showCast,this.showPostOffice="showPostOffice"===t?o:this.showPostOffice,this.showHouseNo="showHouseNo"===t?o:this.showHouseNo,this.showRoadNo="showRoadNo"===t?o:this.showRoadNo,this.showPinCode="showPinCode"===t?o:this.showPinCode,this.showPollingNumber="showPollingNumber"===t?o:this.showPollingNumber,this.showPhoto="showPhoto"===t?o:this.showPhoto}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(U.T),e.Y36(O.u),e.Y36(M.e),e.Y36(V.p))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-booth-volunteer"]],decls:63,vars:14,consts:[[1,"container","pt-1",2,"background-color","rgb(255, 255, 255)","color","black !important",3,"hidden"],[2,"background-color","rgb(31, 111, 180) !important","color","black !important","border-radius","10px",3,"linear"],["stepper",""],[3,"stepControl"],[3,"formGroup"],["matStepLabel",""],[1,"d-flex"],[1,"col-9"],["appearance","fill"],["matInput","","placeholder","Last name, First name","formControlName","personName","required",""],["matInput","","placeholder","Your age","formControlName","age","required",""],["matNativeControl","","required","","formControlName","gender"],[3,"value",4,"ngFor","ngForOf"],["matInput","","placeholder","Email","formControlName","email","required",""],[1,"fluid",2,"background-color","white","max-height","100px","margin","2%","text-align","right"],["test1","matMenu"],["type","file","name","filename",3,"disabled","change"],[1,"mr-2","bg-warning","btn",3,"click"],["type","submit","class","btn btn-info",3,"click",4,"ngIf"],[1,"card"],[1,"card-body","scroll",2,"max-width","100vw","overflow","scroll","border-radius","5px","background-color","rgba(27, 109, 197, 0.524)"],["id","excel-table",1,"table"],["scope","col",1,"text-center"],["class","text-center","scope","col",4,"ngIf"],[4,"ngFor","ngForOf"],["mat-stroked-button","","printSectionId","printDiv","ngxPrint","",1,"btn-primary",3,"printStyle"],["mat-stroked-button","",1,"btn-primary",3,"click"],[3,"hidden"],["id","printDiv",2,"font-size","xx-small !important"],["class","printDiv","style","border: #000000 solid; min-width: 200px; float: left !important; padding: 4px;",4,"ngFor","ngForOf"],[3,"value"],["type","submit",1,"btn","btn-info",3,"click"],["scope","row",1,"text-center","pt-3"],["class","text-center pt-3","scope","row",4,"ngIf"],[1,"printDiv",2,"border","#000000 solid","min-width","200px","float","left !important","padding","4px"],[1,"printDiv",2,"min-width","100px","max-width","100px !important","float","left !important","font-size","xx-small !important"],[2,"border","#000000 solid","text-align","right"],[1,"printDiv",2,"border","1px solid black !important","min-width","100px","float","left !important","text-align","right"],["alt","",2,"height","65px","width","40px","border","#000000 solid",3,"src"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"h3")(2,"u"),e._uU(3,"Create Volunteer"),e.qZA()(),e.TgZ(4,"div")(5,"mat-stepper",1,2)(7,"mat-step",3)(8,"form",4),e.YNc(9,F,1,0,"ng-template",5),e.TgZ(10,"div",6)(11,"div",7)(12,"div")(13,"mat-form-field",8)(14,"mat-label"),e._uU(15,"NAME"),e.qZA(),e._UZ(16,"input",9),e.qZA(),e.TgZ(17,"mat-form-field",8)(18,"mat-label"),e._uU(19,"AGE"),e.qZA(),e._UZ(20,"input",10),e.qZA()(),e._UZ(21,"div"),e.TgZ(22,"div")(23,"mat-form-field",8)(24,"mat-label"),e._uU(25,"GENDER"),e.qZA(),e.TgZ(26,"mat-select",11),e.YNc(27,P,2,2,"mat-option",12),e.qZA()(),e.TgZ(28,"mat-form-field",8)(29,"mat-label"),e._uU(30,"EMAIL"),e.qZA(),e._UZ(31,"input",13),e.qZA()(),e._UZ(32,"div"),e.qZA(),e.TgZ(33,"div",14)(34,"mat-menu",null,15)(36,"input",16),e.NdJ("change",function(u){return o.onChange(u)}),e.qZA()()()(),e.TgZ(37,"div")(38,"button",17),e.NdJ("click",function(){return o.clearForms()}),e._uU(39,"Clear"),e.qZA(),e.YNc(40,R,2,0,"button",18),e.qZA()()()()(),e.TgZ(41,"div",19)(42,"div",20)(43,"table",21)(44,"thead")(45,"tr")(46,"th",22),e._uU(47,"#"),e.qZA(),e.YNc(48,E,2,0,"th",23),e.TgZ(49,"th",22),e._uU(50,"Email"),e.qZA(),e.YNc(51,q,2,0,"th",23),e.YNc(52,D,2,0,"th",23),e.qZA()(),e.YNc(53,y,9,5,"tbody",24),e.qZA()()()(),e.TgZ(54,"div")(55,"button",25)(56,"mat-icon"),e._uU(57,"print"),e.qZA()(),e.TgZ(58,"button",26),e.NdJ("click",function(){return o.exportexcel()}),e._uU(59,"Export to Excel"),e.qZA()(),e.TgZ(60,"div",27)(61,"div",28),e.YNc(62,H,16,8,"div",29),e.qZA()()),2&t&&(e.Q6J("hidden",o.showBill),e.xp6(5),e.Q6J("linear",o.isLinear),e.xp6(2),e.Q6J("stepControl",o.personForm),e.xp6(1),e.Q6J("formGroup",o.personForm),e.xp6(19),e.Q6J("ngForOf",o.genderList),e.xp6(9),e.Q6J("disabled",1==o.isUpdateAble),e.xp6(4),e.Q6J("ngIf",0==o.isUpdateAble),e.xp6(8),e.Q6J("ngIf",1==o.showName),e.xp6(3),e.Q6J("ngIf",1==o.showAge),e.xp6(1),e.Q6J("ngIf",1==o.showGender),e.xp6(1),e.Q6J("ngForOf",o.volunteer),e.xp6(2),e.Q6J("printStyle",o.printDivStyle),e.xp6(5),e.Q6J("hidden",!o.showBill),e.xp6(2),e.Q6J("ngForOf",o.volunteer))},dependencies:[g.sg,g.O5,n._Y,n.Fj,n.JJ,n.JL,n.Q7,f.KE,f.hX,n.sg,n.u,A.Nt,m.C0,m.VY,m.Vq,N.VK,C.gD,S.ey,v.Hw,T.lW,x.I],styles:[".scroll[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.scroll[_ngcontent-%COMP%]{-ms-overflow-style:none;scrollbar-width:none}.mat-stepper-horizontal[_ngcontent-%COMP%]{margin-top:8px}.mat-mdc-form-field[_ngcontent-%COMP%]{margin-top:16px}.mat-form-field[_ngcontent-%COMP%]{padding:5px}input[_ngcontent-%COMP%]{text-transform:uppercase}"]}),i})()}];let Y=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[I.Bz.forChild(G),I.Bz]}),i})();var Q=s(6709),k=s(8796),j=s(3546);let z=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[g.ez,Y,n.u5,f.lN,n.UX,A.c,j.QW,k.A0,Q.p9,m.T5,N.Tx,C.LD,S.Ng,v.Ps,T.ot,x.K]}),i})()}}]);