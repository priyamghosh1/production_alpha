"use strict";(self.webpackChunkadminDesign=self.webpackChunkadminDesign||[]).push([[45],{9045:(B,p,r)=>{r.r(p),r.d(p,{LegislativeModule:()=>y});var u=r(6895),g=r(3060),o=r(4006),Z=r(5226),d=r.n(Z),f=r(3561),e=r(4650),h=r(4543),A=r(9366),T=r(5683),I=r(3761),c=r(8796);function q(n,l){if(1&n&&(e.TgZ(0,"tbody")(1,"tr")(2,"td",24),e._uU(3),e.qZA(),e.TgZ(4,"td",24),e._uU(5),e.qZA(),e.TgZ(6,"td",24),e._uU(7),e.qZA(),e.TgZ(8,"td",24),e._uU(9),e.qZA(),e.TgZ(10,"td",24),e._uU(11),e.qZA(),e.TgZ(12,"td",24),e._uU(13),e.qZA(),e.TgZ(14,"td",24),e._uU(15),e.qZA(),e.TgZ(16,"td",24),e._uU(17),e.qZA(),e.TgZ(18,"td",24),e._uU(19),e.qZA(),e.TgZ(20,"td",24),e._uU(21),e.qZA()()()),2&n){const t=l.$implicit;e.xp6(3),e.Oqu(t.personId),e.xp6(2),e.Oqu(t.personName),e.xp6(2),e.Oqu(t.memberCode),e.xp6(2),e.Oqu(t.age),e.xp6(2),e.Oqu(t.gender),e.xp6(2),e.Oqu(t.email),e.xp6(2),e.Oqu(t.mobile1),e.xp6(2),e.Oqu(t.mobile2),e.xp6(2),e.Oqu(t.voterId),e.xp6(2),e.Oqu(t.pollingNumber)}}function U(n,l){if(1&n&&(e.TgZ(0,"div",18)(1,"div",19),e._uU(2," Legislative list "),e.qZA(),e.TgZ(3,"div",20)(4,"table",21)(5,"thead")(6,"tr")(7,"th",22),e._uU(8,"#"),e.qZA(),e.TgZ(9,"th",22),e._uU(10,"Name"),e.qZA(),e.TgZ(11,"th",22),e._uU(12,"Age"),e.qZA(),e.TgZ(13,"th",22),e._uU(14,"Gender"),e.qZA(),e.TgZ(15,"th",22),e._uU(16,"Email"),e.qZA(),e.TgZ(17,"th",22),e._uU(18,"mobile1"),e.qZA(),e.TgZ(19,"th",22),e._uU(20,"mobile2"),e.qZA(),e.TgZ(21,"th",22),e._uU(22,"voterId"),e.qZA(),e.TgZ(23,"th",22),e._uU(24,"pollingNumber"),e.qZA()()(),e.YNc(25,q,22,10,"tbody",23),e.qZA()()()),2&n){const t=e.oxw();e.xp6(25),e.Q6J("ngForOf",t.pollingVolunteers)}}function b(n,l){if(1&n&&(e.TgZ(0,"div",25)(1,"div",26)(2,"pre"),e._uU(3),e.ALo(4,"json"),e.qZA()(),e.TgZ(5,"div",26)(6,"pre"),e._uU(7),e.ALo(8,"json"),e.qZA()(),e.TgZ(9,"div",26)(10,"pre"),e._uU(11),e.ALo(12,"json"),e.qZA()(),e.TgZ(13,"div",26)(14,"pre"),e._uU(15),e.ALo(16,"json"),e.qZA()()()),2&n){const t=e.oxw();e.xp6(3),e.hij("personForm = ",e.lcZ(4,4,t.personForm.value),""),e.xp6(4),e.hij("userForm = ",e.lcZ(8,6,t.userForm.value),""),e.xp6(4),e.hij("pollingStations = ",e.lcZ(12,8,t.pollingStations),""),e.xp6(4),e.hij("pollingVolunteers = ",e.lcZ(16,10,t.pollingVolunteers),"")}}const x=[{path:"",component:(()=>{class n{constructor(t,i,s,v,m){this.userRegistrationService=t,this.authService=i,this.pollingStationService=s,this.formBuilder=v,this.areaService=m,this.personForm=new o.nJ({id:new o.p4(null),personTypeId:new o.p4(null,[o.kI.required]),personName:new o.p4(null,[o.kI.required]),email:new o.p4(null,[o.kI.required]),age:new o.p4(null),gender:new o.p4(null),mobile1:new o.p4(null),mobile2:new o.p4(null),aadharId:new o.p4(null),voterId:new o.p4(null,[o.kI.required]),pollingStationId:new o.p4(null),remark:new o.p4(null)}),this.userForm=new o.nJ({id:new o.p4(null),personId:new o.p4(null,[o.kI.required]),parentId:new o.p4(null,[o.kI.required]),areaId:new o.p4(null),remark:new o.p4(null,[o.kI.required]),areaDescription:new o.p4(null,[o.kI.required]),email:new o.p4(null,[o.kI.required]),password:new o.p4(null,[o.kI.required])}),this.pollingVolunteers=[],this.genderList=[{id:1,name:"male"},{id:2,name:"female"},{id:3,name:"others"}]}ngOnInit(){this.loggedInUser=this.authService.userBehaviorSubject.value,this.pollingStationService.getPollingStationByAssemblyId(this.loggedInUser?.assemblyConstituencyId).subscribe(t=>{this.pollingStations=t.data}),this.userRegistrationService.getAllVolunteersByPollingId(this.loggedInUser?.uniqueId).subscribe(t=>{this.pollingVolunteers=t.data}),this.userRegistrationService.getAllVolunteerByPollingIdListener().subscribe(t=>{this.pollingVolunteers=t})}onSubmit(){d().fire({title:"Confirmation",text:"Do you sure to create volunteer?",icon:"info",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, create It!"}).then(t=>{if(t.isConfirmed){const i=this.personForm.value,s=this.userForm.value,m=(new f.V).appendStr("1234").end();this.userRegistrationService.savePollingVolunteer({personTypeId:4,personName:i.personName,age:i.age,gender:i.gender,email:i.email,password:m,mobile1:i.mobile1,mobile2:i.mobile2,voterId:i.voterId,pollingStationId:i.pollingStationId,parentId:this.loggedInUser?.uniqueId,remark:s.remark,areaDescription:s.areaDescription}).subscribe(a=>{a.status?(this.personForm.reset(),this.userForm.reset(),d().fire({position:"top-end",icon:"success",title:"User created",showConfirmButton:!1,timer:1e3})):d().fire({position:"top-end",icon:"error",title:"Validation error",showConfirmButton:!1,timer:3e3})},a=>{console.log(a),console.log("data saving error",a)})}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(h.p),e.Y36(A.e),e.Y36(T.u),e.Y36(o.QS),e.Y36(I.T))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-legislative"]],decls:32,vars:5,consts:[[1,"container","pt-5"],[3,"formGroup"],[1,"d-flex"],[1,"form-group"],["formControlName","personName","placeholder","Name",1,"form-control"],[1,"form-group","pl-3"],["formControlName","age","placeholder","Age",1,"form-control"],["fxFlex","100","bindLabel","name","bindValue","name","appendTo","body","formControlName","gender","placeholder","Gender",1,"custom",2,"height","200 !important",3,"items"],[1,"d-flex","pt-2"],["formControlName","mobile1","placeholder","Mobile1",1,"form-control"],["formControlName","mobile2","placeholder","Mobile2",1,"form-control"],["formControlName","voterId","placeholder","Voter No.",1,"form-control"],["rows","2","formControlName","remark","placeholder","Remark",1,"form-control"],["rows","2","formControlName","areaDescription","placeholder","Area",1,"form-control"],[1,"pt-4","pb-3"],["type","submit",1,"btn","btn-primary",3,"click"],["class","card",4,"ngIf"],["class","row",4,"ngIf"],[1,"card"],[1,"card-header","text-dark","text-bold"],[1,"card-body"],[1,"table"],["scope","col"],[4,"ngFor","ngForOf"],["scope","row"],[1,"row"],[1,"col"]],template:function(t,i){1&t&&(e.TgZ(0,"h3")(1,"u"),e._uU(2,"Create Volunteer:"),e.qZA()(),e.TgZ(3,"div",0)(4,"form",1)(5,"div",2)(6,"div",3),e._UZ(7,"input",4),e.qZA(),e.TgZ(8,"div",5),e._UZ(9,"input",6),e.qZA(),e.TgZ(10,"div",5),e._UZ(11,"ng-select",7),e.qZA()(),e.TgZ(12,"div",8)(13,"div",3),e._UZ(14,"input",9),e.qZA(),e.TgZ(15,"div",5),e._UZ(16,"input",10),e.qZA()(),e.TgZ(17,"div",8)(18,"div",3),e._UZ(19,"input",11),e.qZA()()(),e.TgZ(20,"div",8)(21,"form",1)(22,"div",8)(23,"div",5),e._UZ(24,"textarea",12),e.qZA(),e.TgZ(25,"div",5),e._UZ(26,"textarea",13),e.qZA()()()(),e.TgZ(27,"div",14)(28,"button",15),e.NdJ("click",function(){return i.onSubmit()}),e._uU(29,"Submit"),e.qZA()(),e.YNc(30,U,26,1,"div",16),e.YNc(31,b,17,12,"div",17),e.qZA()),2&t&&(e.xp6(4),e.Q6J("formGroup",i.personForm),e.xp6(7),e.Q6J("items",i.genderList),e.xp6(10),e.Q6J("formGroup",i.userForm),e.xp6(9),e.Q6J("ngIf",!0),e.xp6(1),e.Q6J("ngIf",!1))},dependencies:[u.sg,u.O5,o._Y,o.Fj,o.JJ,o.JL,o.sg,o.u,c.w9,u.Ts]}),n})()}];let C=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[g.Bz.forChild(x),g.Bz]}),n})();var w=r(9549),L=r(4144),S=r(4385),N=r(3546);let y=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[u.ez,C,o.u5,w.lN,o.UX,L.c,S.LD,N.QW,c.A0]}),n})()}}]);